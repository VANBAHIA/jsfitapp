<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Editor Treinos">
    <title>Editor de Treinos - Personal</title>
    
    <!-- iOS Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE4MCIgaGVpZ2h0PSIxODAiIHJ4PSI0MCIgZmlsbD0iIzc5NDVmZiIvPjxwYXRoIGQ9Im05MCA0NWMtMjQuODUzIDAtNDUgMjAuMTQ3LTQ1IDQ1djQ1YzAgMjQuODUzIDIwLjE0NyA0NSA0NSA0NXM0NS0yMC4xNDcgNDUtNDV2LTQ1YzAtMjQuODUzLTIwLjE0Ny00NS00NS00NXoiIGZpbGw9IndoaXRlIi8+PC9zdmc+">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
    <div class="app-container" id="app">
        <div class="status-bar">
            JS Fit App - Editor de Treinos Personal
        </div>
        
        <!-- Home View -->
        <div id="homeView" class="view">
            <div class="header">
                <div class="header-title">Meus Planos de Treino</div>
                <div class="header-actions">
                    <input type="file" id="importInput" accept=".json" style="display: none;">
                    <input type="file" id="backupInput" accept=".json" style="display: none;" onchange="restoreBackup(event)">
                    
                    <button class="header-action" onclick="document.getElementById('importInput').click()" title="Importar Plano">
                        üìÅ
                    </button>
                    <button class="header-action" onclick="backupData()" title="Fazer Backup">
                        üíæ
                    </button>
                    <button class="header-action" onclick="document.getElementById('backupInput').click()" title="Restaurar Backup">
                        üì§
                    </button>
                </div>
            </div>
            
            <div class="content">
                <!-- Bot√µes de A√ß√£o Principal -->
                <div class="action-buttons">
                    <button class="btn-primary" onclick="createNewPlan()">
                        <span>‚ûï</span>
                        Criar Novo Plano
                    </button>
                    
                    <button class="btn-primary btn-template" onclick="createABCDEPlan()">
                        <span>üèãÔ∏è</span>
                        Criar Plano ABCDE
                    </button>
                </div>

                <!-- Importar Plano Compartilhado -->
                <div class="card import-card">
                    <h3>Importar Plano Compartilhado</h3>
                    <div class="import-form">
                        <input 
                            type="text" 
                            id="shareIdInput" 
                            class="form-input" 
                            placeholder="Digite o ID de 6 caracteres" 
                            maxlength="6"
                            style="text-transform: uppercase;"
                        >
                        <button class="btn-secondary" onclick="importSharedPlan()">
                            <span>üîç</span>
                            Buscar
                        </button>
                    </div>
                </div>
                
                <div id="plansList"></div>
            </div>
        </div>
        
        <!-- Edit Plan View -->
        <div id="editPlanView" class="view hidden">
            <div class="header">
                <button class="header-back" onclick="goBack()">‚Äπ</button>
                <div class="header-title" id="editPlanTitle">Editar Plano</div>
                <button class="header-action" onclick="savePlan()">Salvar</button>
            </div>
            
            <div class="content">
                <form id="planForm">
                    <div class="card">
                        <h3>üìã Informa√ß√µes B√°sicas</h3>
                        <div class="form-group">
                            <label class="form-label">Nome do Plano</label>
                            <input type="text" class="form-input" name="nome" required>
                        </div>
                        
                        <div class="form-row-3">
                            <div class="form-group">
                                <label class="form-label">Dias/Semana</label>
                                <select class="form-input" name="dias" required>
                                    <option value="3">3 dias</option>
                                    <option value="4">4 dias</option>
                                    <option value="5" selected>5 dias</option>
                                    <option value="6">6 dias</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">In√≠cio</label>
                                <input type="date" class="form-input" name="dataInicio" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Fim</label>
                                <input type="date" class="form-input" name="dataFim" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üë§ Perfil do Atleta</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Idade</label>
                                <input type="number" class="form-input" name="idade" min="15" max="100">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Altura</label>
                                <input type="text" class="form-input" name="altura" placeholder="1,70m">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Peso</label>
                                <input type="text" class="form-input" name="peso" placeholder="70kg">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Porte F√≠sico</label>
                                <select class="form-input" name="porte">
                                    <option value="pequeno">Pequeno</option>
                                    <option value="medio">M√©dio</option>
                                    <option value="grande">Grande</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Objetivo Principal</label>
                            <select class="form-input" name="objetivo">
                                <option value="Hipertrofia e ganho de massa muscular">Hipertrofia e ganho de massa muscular</option>
                                <option value="Condicionamento geral">Condicionamento geral</option>
                                <option value="Perda de peso">Perda de peso</option>
                                <option value="Defini√ß√£o muscular">Defini√ß√£o muscular</option>
                                <option value="For√ßa">Ganho de for√ßa</option>
                                <option value="Resist√™ncia">Resist√™ncia</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üìù Orienta√ß√µes e Observa√ß√µes</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Frequ√™ncia Semanal</label>
                            <input type="text" class="form-input" name="frequencia" placeholder="5x por semana (ABCDE) com 2 dias de descanso">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Progress√£o de Carga</label>
                            <input type="text" class="form-input" name="progressao" placeholder="Aumente a carga em 2,5-5kg quando conseguir executar todas as s√©ries">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Tempo de Descanso</label>
                            <input type="text" class="form-input" name="descanso" placeholder="2-3 minutos para compostos, 60-90 segundos para isolamentos">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Hidrata√ß√£o</label>
                            <input type="text" class="form-input" name="hidratacao" placeholder="Beba pelo menos 3L de √°gua por dia">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Alimenta√ß√£o</label>
                            <input type="text" class="form-input" name="alimentacao" placeholder="Consuma 2,2g de prote√≠na por kg de peso corporal">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Suplementa√ß√£o</label>
                            <input type="text" class="form-input" name="suplementacao" placeholder="Consulte nutricionista">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Sono e Recupera√ß√£o</label>
                            <input type="text" class="form-input" name="sono" placeholder="7-9 horas por noite">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Aquecimento</label>
                            <input type="text" class="form-input" name="aquecimento" placeholder="Sempre fa√ßa aquecimento espec√≠fico">
                        </div>

                        <div class="form-group">
                            <label class="form-label">T√©cnica</label>
                            <input type="text" class="form-input" name="tecnica" placeholder="Priorize a execu√ß√£o perfeita">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Periodiza√ß√£o</label>
                            <input type="text" class="form-input" name="periodizacao" placeholder="Deload a cada 6-8 semanas">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Acompanhamento</label>
                            <input type="text" class="form-input" name="consulta" placeholder="Acompanhamento profissional essencial">
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Plan Details View -->
        <div id="planDetailsView" class="view hidden">
            <div class="header">
                <button class="header-back" onclick="goBack()">‚Äπ</button>
                <div class="header-title" id="planDetailsTitle">Detalhes do Plano</div>
                <div class="header-actions">
                    <button class="header-action" onclick="generatePlanReport(appState.selectedPlan.id)" title="Gerar Relat√≥rio">üìä</button>
                    <button class="header-action" onclick="resetPlanProgress(appState.selectedPlan.id)" title="Resetar Progresso">üîÑ</button>
                    <button class="header-action" onclick="editCurrentPlan()">‚úèÔ∏è</button>
                </div>
            </div>
            
            <div class="content">
                <!-- Informa√ß√µes do Plano -->
                <div id="planInfo"></div>

                <!-- Share ID Card -->
                <div id="shareIdCard" class="card share-id-card hidden">
                    <div class="share-id-content">
                        <div class="share-id-title">üîó ID de Compartilhamento</div>
                        <div class="share-id-value" id="shareIdValue">------</div>
                        <div class="share-id-subtitle">Compartilhe este ID com seus alunos</div>
                    </div>
                </div>

                <!-- API Status -->
                <div id="apiStatus" class="api-status hidden">
                    Conectando com servidor...
                </div>

                <!-- Storage Status -->
                <div id="storageStatus" class="api-status">
                    Plano n√£o compartilhado
                </div>

                <!-- A√ß√µes Principais -->
                <div class="action-buttons">
                    <button class="btn-primary" onclick="createNewWorkout()">
                        <span>‚ûï</span>
                        Criar Treino
                    </button>

                    <button class="btn-primary btn-template" onclick="showWorkoutTemplates()" style="display: none;" id="templateBtn">
                        <span>üìã</span>
                        Templates
                    </button>

                    <button class="btn-primary btn-share" onclick="shareCurrentPlan()">
                        <span>üîó</span>
                        Compartilhar Plano
                    </button>
                </div>

                <div id="copyIdSection" class="hidden" style="margin-top: 16px;">
                    <button class="btn-secondary" onclick="copyShareId()">
                        <span>üìã</span>
                        Copiar ID do Treino
                    </button>
                </div>
                
                <div id="workoutsList"></div>
            </div>
        </div>
        
        <!-- Edit Workout View -->
        <div id="editWorkoutView" class="view hidden">
            <div class="header">
                <button class="header-back" onclick="goBack()">‚Äπ</button>
                <div class="header-title" id="editWorkoutTitle">Editar Treino</div>
                <button class="header-action" onclick="saveWorkout()">Salvar</button>
            </div>
            
            <div class="content">
                <form id="workoutForm">
                    <div class="card">
                        <h3>üèãÔ∏è Configura√ß√µes do Treino</h3>
                        
                        <div class="form-group">
                            <label class="form-label">ID do Treino</label>
                            <input type="text" class="form-input" name="id" placeholder="A, B, C, D, E..." required>
                            <small class="form-help">Use letras (A, B, C...) ou n√∫meros (1, 2, 3...)</small>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Nome do Treino</label>
                            <input type="text" class="form-input" name="nome" placeholder="A - Peito e Tr√≠ceps" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Foco do Treino</label>
                            <select class="form-input" name="foco">
                                <option value="Hipertrofia - Peitorais e Tr√≠ceps">Hipertrofia - Peitorais e Tr√≠ceps</option>
                                <option value="Hipertrofia - Dorsais e B√≠ceps">Hipertrofia - Dorsais e B√≠ceps</option>
                                <option value="Hipertrofia - Deltoides e Trap√©zio">Hipertrofia - Deltoides e Trap√©zio</option>
                                <option value="Hipertrofia - Anterior de coxa e gl√∫teos">Hipertrofia - Anterior de coxa e gl√∫teos</option>
                                <option value="Hipertrofia - Isquiotibiais, gl√∫teos e abd√¥men">Hipertrofia - Isquiotibiais, gl√∫teos e abd√¥men</option>
                                <option value="Condicionamento geral">Condicionamento geral</option>
                                <option value="For√ßa">For√ßa</option>
                                <option value="Resist√™ncia">Resist√™ncia</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Workout Details View -->
        <div id="workoutDetailsView" class="view hidden">
            <div class="header">
                <button class="header-back" onclick="goBack()">‚Äπ</button>
                <div class="header-title" id="workoutDetailsTitle">Exerc√≠cios</div>
                <div class="header-actions">
                    <button class="header-action" onclick="completeWorkout(appState.selectedWorkout.id)" title="Marcar como Conclu√≠do">‚úÖ</button>
                    <button class="header-action" onclick="setupWorkoutReminder()" title="Definir Lembrete">‚è∞</button>
                    <button class="header-action" onclick="editCurrentWorkout()">‚úèÔ∏è</button>
                </div>
            </div>
            
            <div class="content">
                <!-- Informa√ß√µes do Treino -->
                <div id="workoutInfo"></div>

                <button class="btn-primary" onclick="createNewExercise()">
                    <span>‚ûï</span>
                    Adicionar Exerc√≠cio
                </button>
                
                <div id="exercisesList"></div>
            </div>
        </div>
        
        <!-- Edit Exercise View -->
        <div id="editExerciseView" class="view hidden">
            <div class="header">
                <button class="header-back" onclick="goBack()">‚Äπ</button>
                <div class="header-title" id="editExerciseTitle">Editar Exerc√≠cio</div>
                <button class="header-action" onclick="saveExercise()">Salvar</button>
            </div>
            
            <div class="content">
                <form id="exerciseForm">
                    <div class="card">
                        <h3>üí™ Configura√ß√µes do Exerc√≠cio</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Nome do Exerc√≠cio</label>
                            <input type="text" class="form-input" name="nome" placeholder="Supino Reto com Barra" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Descri√ß√£o T√©cnica</label>
                            <textarea class="form-input form-textarea" name="descricao" placeholder="Exerc√≠cio principal para desenvolvimento do peitoral maior. Mantenha os ombros est√°veis e execute movimento controlado." rows="3"></textarea>
                        </div>
                        
                        <div class="form-row-3">
                            <div class="form-group">
                                <label class="form-label">S√©ries</label>
                                <input type="number" class="form-input" name="series" min="1" max="10" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Repeti√ß√µes</label>
                                <input type="text" class="form-input" name="repeticoes" placeholder="8-12 ou 30s" required>
                                <small class="form-help">Ex: 12, 8-10, 30s, m√°x</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Carga</label>
                                <input type="text" class="form-input" name="carga" placeholder="80kg" required>
                                <small class="form-help">Ex: 20kg, 15kg cada, peso corporal</small>
                            </div>
                        </div>

                        <!-- Sugest√µes de Exerc√≠cios -->
                        <div class="exercise-suggestions">
                            <label class="form-label">Sugest√µes R√°pidas:</label>
                            <div class="suggestion-buttons">
                                <button type="button" class="btn-suggestion" onclick="fillExerciseSuggestion('Supino Reto com Barra', 'Exerc√≠cio principal para desenvolvimento do peitoral maior', 4, '8-10', '80kg')">Supino Reto</button>
                                <button type="button" class="btn-suggestion" onclick="fillExerciseSuggestion('Agachamento com Barra', 'Exerc√≠cio rei para pernas e gl√∫teos', 4, '8-10', '100kg')">Agachamento</button>
                                <button type="button" class="btn-suggestion" onclick="fillExerciseSuggestion('Levantamento Terra', 'Exerc√≠cio fundamental para posterior de coxa e lombar', 4, '6-8', '120kg')">Terra</button>
                                <button type="button" class="btn-suggestion" onclick="fillExerciseSuggestion('Desenvolvimento com Barra', 'Exerc√≠cio principal para deltoides', 4, '8-10', '50kg')">Desenvolvimento</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="safe-bottom"></div>
    </div>

    <!-- Scripts -->
    <script>
        // Fun√ß√£o para preencher sugest√µes de exerc√≠cios
        function fillExerciseSuggestion(nome, descricao, series, repeticoes, carga) {
            const form = document.getElementById('exerciseForm');
            form.nome.value = nome;
            form.descricao.value = descricao;
            form.series.value = series;
            form.repeticoes.value = repeticoes;
            form.carga.value = carga;
        }

        // Auto-uppercase para input de share ID
        document.addEventListener('DOMContentLoaded', function() {
            const shareIdInput = document.getElementById('shareIdInput');
            if (shareIdInput) {
                shareIdInput.addEventListener('input', function(e) {
                    this.value = this.value.toUpperCase();
                });
            }
        });
    </script>
    <script src="personal.js"></script> 
</body>
</html>